<div class="ContentSideSections">
    <div>
        <span class="fontSize30 TextShadow orange marginBottom20 dispBlock">Charts</span>
        <span class="defaultText">Chart components are based on <a href="http://www.chartjs.org/">Charts.js</a> 2.1.x, an open source HTML5 based charting library.</span>
    </div>
</div>

<div class="ContentSideSections Source">
    <h3 style="margin-top:0px">Chart Component</h3>
    <p>Chart component is used to display a chart on page. The classname is UIChart and element tag is p-chart.</p>
    
<h3>Import</h3>
<pre>
<code class="language-typescript" pCode>
import &#123;ChartModule&#125; from 'primeng/primeng';
</code>
</pre>

    <h3 style="margin-top:0px">Change Detection</h3>
    <p>Due to complexity of charts.js, change detection is not available and when the data changes, you need to call refresh() method manually.</p>
<pre>
<code class="language-markup" pCode>
&lt;p-chart #chart type="pie" [data]="data"&gt;&lt;/p-chart&gt;
&lt;button type="button" pButton (click)="update(chart)"&gt;&lt;/p-button&gt;
</code>
</pre>

<pre>
<code class="language-typescript" pCode>
update(chart: UIChart) &#123;
    this.data = //reload
    chart.refresh();
&#125;
</code>
</pre>

<p>Attributes of Chart Component.</p>
<div class="doc-tablewrapper">
    <table class="doc-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Default</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>type</td>
                <td>string</td>
                <td>null</td>
                <td>Type of the chart.</td>
            </tr>
            <tr>
                <td>data</td>
                <td>any</td>
                <td>null</td>
                <td>Data to display.</td>
            </tr>
            <tr>
                <td>options</td>
                <td>any</td>
                <td>null</td>
                <td>Options to customize the chart.</td>
            </tr>
            <tr>
                <td>width</td>
                <td>string</td>
                <td>null</td>
                <td>Width of the chart in non-responsive mode.</td>
            </tr>
            <tr>
                <td>height</td>
                <td>string</td>
                <td>null</td>
                <td>Height of the chart in non-responsive mode.</td>
            </tr>
            <tr>
                <td>onDataSelect</td>
                <td>function</td>
                <td>null</td>
                <td>Callback to execute when an element on chart is clicked.</td>
            </tr>
        </tbody>
    </table>
</div>

<h3>Methods</h3>
<div class="doc-tablewrapper">
    <table class="doc-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Parameters</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>refresh</td>
                <td>-</td>
                <td>Redraws the graph.</td>
            </tr>
        </tbody>
    </table>
</div>

<h3>Chart Types</h3>
<p>Chart type is defined using the type property. Currently there are 6 options available; pie, doughtnut, line, bar, radar and polarArea.</p>

<h3>Data</h3>
<p>Data of a chart is provided using a binding to the data property, each type has its own format of data. Here is an example of a line chart.</p>

<pre>
<code class="language-markup" pCode>
&lt;p-chart type="line" [data]="data"&gt;&lt;/p-chart&gt;t
</code>
</pre>

<pre>
<code class="language-typescript" pCode>
export class LineChartDemo &#123;

    data: any;
    
    constructor() &#123;
        this.data = &#123;
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [
                &#123;
                    label: 'First Dataset',
                    data: [65, 59, 80, 81, 56, 55, 40]
                &#125;,
                &#123;
                    label: 'Second Dataset',
                    data: [28, 48, 40, 19, 86, 27, 90]
                &#125;
            ]
        &#125;
    &#125;
&#125;
</code>
</pre>

<h3>Options</h3>
<p>While a series can be customized per dataset, general chart options are defined with options property. 
    Example below adds a title and customizes the legend position of the chart. For all available options refer to the charts.js documentation.</p>

<pre>
<code class="language-markup" pCode>
&lt;p-chart type="line" [data]="data" [options]="options"&gt;&lt;/p-chart&gt;
</code>
</pre>

<pre>
<code class="language-typescript" pCode>
export class LineChartDemo &#123;

    data: any;
    
    options: any;
    
    constructor() &#123;
        this.data = &#123;
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [
                &#123;
                    label: 'First Dataset',
                    data: [65, 59, 80, 81, 56, 55, 40]
                &#125;,
                &#123;
                    label: 'Second Dataset',
                    data: [28, 48, 40, 19, 86, 27, 90]
                &#125;
            ]
        &#125;
        
        this.options = &#123;
            title: &#123;
                display: true,
                text: 'My Title',
                fontSize: 16
            &#125;,
            legend: &#123;
                position: 'bottom'
            &#125;
        &#125;;
    &#125;
&#125;
</code>
</pre>

<h3>Events</h3>
<p>When data is selected with click event, chart component provides onDataSelect callback to process the selected data.</p>
<pre>
<code class="language-markup" pCode>
&lt;p-chart type="line" [data]="data" (onDataSelect)="selectData($event)"&gt;&lt;/p-chart&gt;
</code>
</pre>

<pre>
<code class="language-typescript" pCode>
selectData(event) &#123;
    //event.dataset = Selected dataset
    //event.element = Selected element
    //event.element._datasetIndex = Index of the dataset in data
    //event.element_index = Index of the data in dataset
&#125;
</code>
</pre>  


</div>